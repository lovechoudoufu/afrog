import{v as S,w as h,x as m,E as x,a8 as D,a9 as R,aa as C,ab as F,ac as k,y as L,z as y,A as q,ad as B,B as H,ae as O,D as Y,C as w,af as z,H as J,l as M,J as P,ag as U}from"./CitxP-cn.js";function j(s,t,c=!1){h&&m();var i=s,e=null,a=null,r=B,g=c?x:0,u=!1;const I=(l,f=!0)=>{u=!0,v(f,l)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var l=r?e:a,f=r?a:e;l&&O(l),f&&Y(f,()=>{r?a=null:e=null})}const v=(l,f)=>{if(r===(r=l))return;let b=!1;if(h){const N=D(i)===R;!!r===N&&(i=C(),F(i),k(!1),b=!0)}var T=H(),d=i;if(T&&(n=document.createDocumentFragment(),n.append(d=L())),r?e??=f&&y(()=>f(d)):a??=f&&y(()=>f(d)),T){var _=q,p=r?e:a,E=r?a:e;p&&_.skipped_effects.delete(p),E&&_.skipped_effects.add(E),_.add_callback(o)}else o();b&&k(!0)};S(()=>{u=!1,t(I),u||v(null,null)},g),h&&(i=w)}function A(s,t){return s===t||s?.[U]===t}function G(s={},t,c,i){return z(()=>{var e,a;return J(()=>{e=a,a=[],M(()=>{s!==c(...a)&&(t(s,...a),e&&A(c(...e),s)&&t(null,...e))})}),()=>{P(()=>{a&&A(c(...a),s)&&t(null,...a)})}}),s}export{G as b,j as i};
