import"./DsnmJJEf.js";import{a5 as w,w as k,H as E,a6 as V,A as d,l as A,a7 as H,p as L,L as M,a as P,b as v,c as W,f as S}from"./CitxP-cn.js";import{i as j,b as _}from"./sN7Q9I87.js";import{r as h,a as x}from"./DJ82hxZh.js";import{p as b,r as q}from"./CptUsCsW.js";import{c as y}from"./BZI_cML6.js";function p(e,a,t=a){var f=V(),n=new WeakSet;w(e,"input",l=>{var r=l?e.defaultValue:e.value;if(r=m(e)?g(r):r,t(r),d!==null&&n.add(d),f&&r!==(r=a())){var c=e.selectionStart,u=e.selectionEnd;e.value=r??"",u!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(u,e.value.length))}}),(k&&e.defaultValue!==e.value||A(a)==null&&e.value)&&(t(m(e)?g(e.value):e.value),d!==null&&n.add(d)),E(()=>{var l=a();if(e===document.activeElement){var r=H??d;if(n.has(r))return}m(e)&&l===g(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function m(e){var a=e.type;return a==="number"||a==="range"}function g(e){return e===""?null:+e}function z(e,a,t=a){w(e,"change",()=>{t(e.files)}),k&&e.files&&t(e.files),E(()=>{e.files=a()})}var B=S("<input/>"),C=S("<input/>");function O(e,a){L(a,!0);let t=b(a,"ref",15,null),f=b(a,"value",15),n=b(a,"files",15),l=q(a,["$$slots","$$events","$$legacy","ref","value","type","files","class"]);var r=M(),c=P(r);{var u=o=>{var i=B();h(i),x(i,s=>({"data-slot":"input",class:s,type:"file",...l}),[()=>y("selection:bg-primary dark:bg-input/30 selection:text-primary-foreground border-input ring-offset-background placeholder:text-muted-foreground shadow-xs flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 pt-1.5 text-sm font-medium outline-none transition-[color,box-shadow] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a.class)]),_(i,s=>t(s),()=>t()),z(i,n),p(i,f),v(o,i)},I=o=>{var i=C();h(i),x(i,s=>({"data-slot":"input",class:s,type:a.type,...l}),[()=>y("border-input bg-background selection:bg-primary dark:bg-input/30 selection:text-primary-foreground ring-offset-background placeholder:text-muted-foreground shadow-xs flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base outline-none transition-[color,box-shadow] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a.class)]),_(i,s=>t(s),()=>t()),p(i,f),v(o,i)};j(c,o=>{a.type==="file"?o(u):o(I,!1)})}v(e,r),W()}export{O as I,p as b};
