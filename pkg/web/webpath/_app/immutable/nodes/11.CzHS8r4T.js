import"../chunks/DsnmJJEf.js";import"../chunks/Bfz-XJst.js";import{a2 as R,p as U,f as L,t as P,b as g,c as V,a3 as i,g as t,a4 as w,u as q,d as r,a as W,s as u,r as s,n as X,e as Y}from"../chunks/CitxP-cn.js";import{e as Z,s as D}from"../chunks/BWd9SBbi.js";import{b as ee,i as E}from"../chunks/sN7Q9I87.js";import{a as re}from"../chunks/DJ82hxZh.js";import{p as se,s as te,r as ae,a as ie}from"../chunks/CptUsCsW.js";import{L as oe}from"../chunks/vvLLkxf4.js";import{I as le}from"../chunks/DbymgH-s.js";import{B as ne}from"../chunks/BGyC5AxN.js";import{c as de}from"../chunks/BZI_cML6.js";import{g as fe}from"../chunks/C4-tcWuE.js";import{a as ce,A as ve}from"../chunks/BpF_tA7R.js";import{$ as pe}from"../chunks/DaTyf_B5.js";import{a as me}from"../chunks/B3dDhuza.js";import{L as ue}from"../chunks/CDdzvoJp.js";var ge=L("<!> <!>",1),_e=L('<div><form><div class="flex flex-col gap-6"><div class="flex flex-col items-center gap-2"><a href="/" class="flex flex-col items-center gap-2 font-medium"><div class="flex size-8 items-center justify-center rounded-md"><!></div> <span class="sr-only">Afrog Security.</span></a> <h1 class="text-xl font-bold">Afrog Security.</h1> <div class="text-center text-sm"> </div></div> <div class="flex flex-col gap-6"><div class="grid gap-3"><!></div> <!></div></div></form></div>');function xe(_,o){const v=R();U(o,!0);const[x,M]=te(),l=()=>ie(pe,"$t",x);let k=se(o,"ref",15,null),T=ae(o,["$$slots","$$events","$$legacy","ref","class"]),p=w(""),f=w(!1),n=w("");async function C(e){if(e.preventDefault(),!t(p).trim()){i(n,l()("please_enter_password"),!0);return}i(f,!0),i(n,"");try{const a=await ce.login(t(p));a.success?(me.setToken(a.token),fe("/",{replaceState:!0})):(i(n,a.message||l()("login_failed"),!0),i(n,l()("login_failed"),!0))}catch(a){a instanceof ve?i(n,a.message,!0):i(n,l()("login_failed"),!0)}finally{i(f,!1)}}var c=_e();re(c,e=>({class:e,...T}),[()=>de("flex flex-col gap-6",o.class)]);var $=r(c),A=r($),h=r(A),b=r(h),z=r(b),F=r(z);oe(F,{class:"size-"}),s(z),X(2),s(b);var S=u(b,4),G=r(S,!0);s(S),s(h);var j=u(h,2),y=r(j),H=r(y);{let e=q(()=>t(n)?"true":void 0),a=q(()=>l()("please_enter_password"));le(H,{get"aria-invalid"(){return t(e)},get id(){return`password-${v}`},type:"password",required:!0,get disabled(){return t(f)},get placeholder(){return t(a)},get value(){return t(p)},set value(m){i(p,m,!0)}})}s(y);var J=u(y,2);ne(J,{type:"submit",class:"w-full",get disabled(){return t(f)},children:(e,a)=>{var m=ge(),B=W(m);{var K=d=>{ue(d,{class:"size-4 animate-spin"})};E(B,d=>{t(f)&&d(K)})}var N=u(B,2);{var O=d=>{var I=Y();P(Q=>D(I,Q),[()=>l()("login")]),g(d,I)};E(N,d=>{t(f)||d(O)})}g(e,m)},$$slots:{default:!0}}),s(j),s(A),s($),s(c),ee(c,e=>k(e),()=>k()),P(e=>D(G,e),[()=>l()("login_tip")]),Z("submit",$,C),g(_,c),V(),M()}var $e=L('<div class="bg-background flex min-h-svh flex-col items-center justify-center gap-6 p-6 md:p-10"><div class="w-full max-w-sm"><!></div></div>');function Me(_){var o=$e(),v=r(o),x=r(v);xe(x,{}),s(v),s(o),g(_,o)}export{Me as component};
