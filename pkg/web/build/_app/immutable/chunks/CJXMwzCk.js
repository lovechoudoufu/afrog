import{o as i}from"./CuqnmXZF.js";import{ad as o,m as u,ae as f,S as l,F as d,af as c,T as m}from"./CWza-o0X.js";function h(r){let e=0,s=f(0),t;return()=>{o()&&(u(s),l(()=>(e===0&&(t=d(()=>r(()=>c(s)))),e+=1,()=>{m(()=>{e-=1,e===0&&(t?.(),t=void 0,c(s))})})))}}class p{#e;#s;constructor(e,s){this.#e=e,this.#s=h(s)}get current(){return this.#s(),this.#e()}}const _=/\(.+\)/,b=new Set(["all","print","screen","and","or","not","only"]);class w extends p{constructor(e,s){let t=_.test(e)||e.split(/[\s,]+/).some(n=>b.has(n.trim()))?e:`(${e})`;const a=window.matchMedia(t);super(()=>a.matches,n=>i(a,"change",n))}}export{w as M,h as c};
