import{q as N,v as h,w as R,E as m,R as x,S as q,T as C,U as D,V as E,x as F,y,z as L,W as Y,A as B,X as O,C as U,B as Z,Y as w,G as z,k as G,I as H,Z as M}from"./DTlqaqqF.js";function V(s,f,c=!1){h&&R();var i=s,e=null,a=null,r=Y,I=c?m:0,u=!1;const S=(l,t=!0)=>{u=!0,v(t,l)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var l=r?e:a,t=r?a:e;l&&O(l),t&&U(t,()=>{r?a=null:e=null})}const v=(l,t)=>{if(r===(r=l))return;let T=!1;if(h){const g=x(i)===q;!!r===g&&(i=C(),D(i),E(!1),T=!0)}var b=B(),d=i;if(b&&(n=document.createDocumentFragment(),n.append(d=F())),r?e??=t&&y(()=>t(d)):a??=t&&y(()=>t(d)),b){var _=L,k=r?e:a,p=r?a:e;k&&_.skipped_effects.delete(k),p&&_.skipped_effects.add(p),_.add_callback(o)}else o();T&&E(!0)};N(()=>{u=!1,f(S),u||v(null,null)},I),h&&(i=Z)}function A(s,f){return s===f||s?.[M]===f}function W(s={},f,c,i){return w(()=>{var e,a;return z(()=>{e=a,a=[],G(()=>{s!==c(...a)&&(f(s,...a),e&&A(c(...e),s)&&f(null,...e))})}),()=>{H(()=>{a&&A(c(...a),s)&&f(null,...a)})}}),s}export{W as b,V as i};
