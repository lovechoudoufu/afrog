import{b as I,h,a as R,E as m,L as F,M as L,N as x,O as D,P as k,c as O,d as y,e as q,U as C,s as M,Q as P,p as U,f as Y,R as B,S as H,F as Q,T as V,V as Z}from"./CWza-o0X.js";function w(s,t,c=!1){h&&R();var i=s,e=null,a=null,r=C,N=c?m:0,u=!1;const S=(l,f=!0)=>{u=!0,v(f,l)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var l=r?e:a,f=r?a:e;l&&P(l),f&&U(f,()=>{r?a=null:e=null})}const v=(l,f)=>{if(r===(r=l))return;let b=!1;if(h){const g=F(i)===L;!!r===g&&(i=x(),D(i),k(!1),b=!0)}var T=M(),d=i;if(T&&(n=document.createDocumentFragment(),n.append(d=O())),r?e??=f&&y(()=>f(d)):a??=f&&y(()=>f(d)),T){var _=q,p=r?e:a,E=r?a:e;p&&_.skipped_effects.delete(p),E&&_.skipped_effects.add(E),_.add_callback(o)}else o();b&&k(!0)};I(()=>{u=!1,t(S),u||v(null,null)},N),h&&(i=Y)}function A(s,t){return s===t||s?.[Z]===t}function z(s={},t,c,i){return B(()=>{var e,a;return H(()=>{e=a,a=[],Q(()=>{s!==c(...a)&&(t(s,...a),e&&A(c(...e),s)&&t(null,...e))})}),()=>{V(()=>{a&&A(c(...a),s)&&t(null,...a)})}}),s}export{z as b,w as i};
