import"../chunks/DsnmJJEf.js";import"../chunks/DZD-akXK.js";import{ao as Y,h as Z,S as ee,ap as fe,e as y,F as ce,aq as ue,g as V,y as re,k as D,o as b,i as F,j as w,z as ve,q as me,t as O,m as u,v as P,l as $,J as d,K as f,n as ge,r as p,u as Q,an as pe}from"../chunks/CWza-o0X.js";import{e as _e,s as R}from"../chunks/CuqnmXZF.js";import{i as I,b as M}from"../chunks/H52-nJyG.js";import{r as U,a as B}from"../chunks/Dxmer75P.js";import{p as S,r as J,b as be,a as xe,s as he}from"../chunks/BF0HNU7Q.js";import{L as ye}from"../chunks/cjNmcPdC.js";import{c as N,I as we,B as ke}from"../chunks/CUhktV9x.js";import{g as $e}from"../chunks/DLRSbZnq.js";import{a as Se,A as Le}from"../chunks/CLq6swf3.js";import{b as ze}from"../chunks/CzeEMMNB.js";import{a as Ae}from"../chunks/CiC7uZ2I.js";import{s as Ee}from"../chunks/DCsI5cJY.js";function X(e,r,s=r){var c=fe(),v=new WeakSet;Y(e,"input",a=>{var t=a?e.defaultValue:e.value;if(t=j(e)?q(t):t,s(t),y!==null&&v.add(y),c&&t!==(t=r())){var x=e.selectionStart,m=e.selectionEnd;e.value=t??"",m!==null&&(e.selectionStart=x,e.selectionEnd=Math.min(m,e.value.length))}}),(Z&&e.defaultValue!==e.value||ce(r)==null&&e.value)&&(s(j(e)?q(e.value):e.value),y!==null&&v.add(y)),ee(()=>{var a=r();if(e===document.activeElement){var t=ue??y;if(v.has(t))return}j(e)&&a===q(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function j(e){var r=e.type;return r==="number"||r==="range"}function q(e){return e===""?null:+e}function Pe(e,r,s=r){Y(e,"change",()=>{s(e.files)}),Z&&e.files&&s(e.files),ee(()=>{e.files=r()})}var je=w("<input/>"),qe=w("<input/>");function Ie(e,r){V(r,!0);let s=S(r,"ref",15,null),c=S(r,"value",15),v=S(r,"files",15),a=J(r,["$$slots","$$events","$$legacy","ref","value","type","files","class"]);var t=re(),x=D(t);{var m=i=>{var l=je();U(l),B(l,o=>({"data-slot":"input",class:o,type:"file",...a}),[()=>N("selection:bg-primary dark:bg-input/30 selection:text-primary-foreground border-input ring-offset-background placeholder:text-muted-foreground shadow-xs flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 pt-1.5 text-sm font-medium outline-none transition-[color,box-shadow] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r.class)]),M(l,o=>s(o),()=>s()),Pe(l,v),X(l,c),b(i,l)},_=i=>{var l=qe();U(l),B(l,o=>({"data-slot":"input",class:o,type:r.type,...a}),[()=>N("border-input bg-background selection:bg-primary dark:bg-input/30 selection:text-primary-foreground ring-offset-background placeholder:text-muted-foreground shadow-xs flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base outline-none transition-[color,box-shadow] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r.class)]),M(l,o=>s(o),()=>s()),X(l,c),b(i,l)};I(x,i=>{r.type==="file"?i(m):i(_,!1)})}b(e,t),F()}function Me(e,r){V(r,!0);/**
 * @license @lucide/svelte v0.515.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let s=J(r,["$$slots","$$events","$$legacy"]);const c=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];we(e,be({name:"loader-circle"},()=>s,{get iconNode(){return c},children:(v,a)=>{var t=re(),x=D(t);Ee(x,()=>r.children??ve),b(v,t)},$$slots:{default:!0}})),F()}var Be=w("<!> <!>",1),Ne=w('<div><form><div class="flex flex-col gap-6"><div class="flex flex-col items-center gap-2"><a href="/" class="flex flex-col items-center gap-2 font-medium"><div class="flex size-8 items-center justify-center rounded-md"><!></div> <span class="sr-only">Afrog Security.</span></a> <h1 class="text-xl font-bold">Afrog Security.</h1> <div class="text-center text-sm"> </div></div> <div class="flex flex-col gap-6"><div class="grid gap-3"><!></div> <!></div></div></form></div>');function Ve(e,r){const s=me();V(r,!0);const[c,v]=xe(),a=()=>he(ze,"$t",c);let t=S(r,"ref",15,null),x=J(r,["$$slots","$$events","$$legacy","ref","class"]),m=P(""),_=P(!1),i=P("");async function l(n){if(n.preventDefault(),!u(m).trim()){p(i,a()("please_enter_password"),!0);return}p(_,!0),p(i,"");try{const g=await Se.login(u(m));g.success?(Ae.setToken(g.token),$e("/",{replaceState:!0})):(p(i,g.message||a()("login_failed"),!0),p(i,a()("login_failed"),!0))}catch(g){g instanceof Le?p(i,g.message,!0):p(i,a()("login_failed"),!0)}finally{p(_,!1)}}var o=Ne();B(o,n=>({class:n,...x}),[()=>N("flex flex-col gap-6",r.class)]);var L=d(o),K=d(L),z=d(K),A=d(z),T=d(A),ae=d(T);ye(ae,{class:"size-"}),f(T),ge(2),f(A);var W=$(A,4),te=d(W,!0);f(W),f(z);var C=$(z,2),E=d(C),se=d(E);{let n=Q(()=>u(i)?"true":void 0),g=Q(()=>a()("please_enter_password"));Ie(se,{get"aria-invalid"(){return u(n)},get id(){return`password-${s}`},type:"password",required:!0,get disabled(){return u(_)},get placeholder(){return u(g)},get value(){return u(m)},set value(k){p(m,k,!0)}})}f(E);var ie=$(E,2);ke(ie,{type:"submit",class:"w-full",get disabled(){return u(_)},children:(n,g)=>{var k=Be(),G=D(k);{var le=h=>{Me(h,{class:"size-4 animate-spin"})};I(G,h=>{u(_)&&h(le)})}var oe=$(G,2);{var ne=h=>{var H=pe();O(de=>R(H,de),[()=>a()("login")]),b(h,H)};I(oe,h=>{u(_)||h(ne)})}b(n,k)},$$slots:{default:!0}}),f(C),f(K),f(L),f(o),M(o,n=>t(n),()=>t()),O(n=>R(te,n),[()=>a()("login_tip")]),_e("submit",L,l),b(e,o),F(),v()}var De=w('<div class="bg-background flex min-h-svh flex-col items-center justify-center gap-6 p-6 md:p-10"><div class="w-full max-w-sm"><!></div></div>');function Ze(e){var r=De(),s=d(r),c=d(s);Ve(c,{}),f(s),f(r),b(e,r)}export{Ze as component};
